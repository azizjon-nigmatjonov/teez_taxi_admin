import{A as se,_ as N,ac as ie,ad as _,ae as L,af as ae,ag as ue,ah as D,ai as M,aj as ce,ak as oe,al as O,am as le,R as F,an as fe,ao as de,ap as he,aq as ye,ar as pe}from"./index-Cc7Ts1A1.js";import{g as me}from"./index-C0WO42ht.js";var ge=function(e){se(r,e);function r(s,n){var i;return i=e.call(this)||this,i.client=s,i.options=n,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(n),i}var t=r.prototype;return t.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},t.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),B(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},t.onUnsubscribe=function(){this.listeners.length||this.destroy()},t.shouldFetchOnReconnect=function(){return I(this.currentQuery,this.options,this.options.refetchOnReconnect)},t.shouldFetchOnWindowFocus=function(){return I(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},t.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},t.setOptions=function(n,i){var u=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(n),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=u.queryKey),this.updateQuery();var o=this.hasListeners();o&&k(this.currentQuery,a,this.options,u)&&this.executeFetch(),this.updateResult(i),o&&(this.currentQuery!==a||this.options.enabled!==u.enabled||this.options.staleTime!==u.staleTime)&&this.updateStaleTimeout();var c=this.computeRefetchInterval();o&&(this.currentQuery!==a||this.options.enabled!==u.enabled||c!==this.currentRefetchInterval)&&this.updateRefetchInterval(c)},t.getOptimisticResult=function(n){var i=this.client.defaultQueryObserverOptions(n),u=this.client.getQueryCache().build(this.client,i);return this.createResult(u,i)},t.getCurrentResult=function(){return this.currentResult},t.trackResult=function(n,i){var u=this,a={},o=function(d){u.trackedProps.includes(d)||u.trackedProps.push(d)};return Object.keys(n).forEach(function(c){Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:function(){return o(c),n[c]}})}),(i.useErrorBoundary||i.suspense)&&o("error"),a},t.getNextResult=function(n){var i=this;return new Promise(function(u,a){var o=i.subscribe(function(c){c.isFetching||(o(),c.isError&&(n!=null&&n.throwOnError)?a(c.error):u(c))})})},t.getCurrentQuery=function(){return this.currentQuery},t.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},t.refetch=function(n){return this.fetch(N({},n,{meta:{refetchPage:n==null?void 0:n.refetchPage}}))},t.fetchOptimistic=function(n){var i=this,u=this.client.defaultQueryObserverOptions(n),a=this.client.getQueryCache().build(this.client,u);return a.fetch().then(function(){return i.createResult(a,u)})},t.fetch=function(n){var i=this;return this.executeFetch(n).then(function(){return i.updateResult(),i.currentResult})},t.executeFetch=function(n){this.updateQuery();var i=this.currentQuery.fetch(this.options,n);return n!=null&&n.throwOnError||(i=i.catch(ie)),i},t.updateStaleTimeout=function(){var n=this;if(this.clearStaleTimeout(),!(_||this.currentResult.isStale||!L(this.options.staleTime))){var i=ae(this.currentResult.dataUpdatedAt,this.options.staleTime),u=i+1;this.staleTimeoutId=setTimeout(function(){n.currentResult.isStale||n.updateResult()},u)}},t.computeRefetchInterval=function(){var n;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(n=this.options.refetchInterval)!=null?n:!1},t.updateRefetchInterval=function(n){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=n,!(_||this.options.enabled===!1||!L(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||ue.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},t.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},t.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},t.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},t.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},t.createResult=function(n,i){var u=this.currentQuery,a=this.options,o=this.currentResult,c=this.currentResultState,d=this.currentResultOptions,y=n!==u,m=y?n.state:this.currentQueryInitialState,v=y?this.currentResult:this.previousQueryResult,l=n.state,b=l.dataUpdatedAt,T=l.error,A=l.errorUpdatedAt,E=l.isFetching,h=l.status,P=!1,j=!1,p;if(i.optimisticResults){var $=this.hasListeners(),te=!$&&B(n,i),re=$&&k(n,u,i,a);(te||re)&&(E=!0,b||(h="loading"))}if(i.keepPreviousData&&!l.dataUpdateCount&&(v!=null&&v.isSuccess)&&h!=="error")p=v.data,b=v.dataUpdatedAt,h=v.status,P=!0;else if(i.select&&typeof l.data<"u")if(o&&l.data===(c==null?void 0:c.data)&&i.select===this.selectFn)p=this.selectResult;else try{this.selectFn=i.select,p=i.select(l.data),i.structuralSharing!==!1&&(p=D(o==null?void 0:o.data,p)),this.selectResult=p,this.selectError=null}catch(S){M().error(S),this.selectError=S}else p=l.data;if(typeof i.placeholderData<"u"&&typeof p>"u"&&(h==="loading"||h==="idle")){var g;if(o!=null&&o.isPlaceholderData&&i.placeholderData===(d==null?void 0:d.placeholderData))g=o.data;else if(g=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof g<"u")try{g=i.select(g),i.structuralSharing!==!1&&(g=D(o==null?void 0:o.data,g)),this.selectError=null}catch(S){M().error(S),this.selectError=S}typeof g<"u"&&(h="success",p=g,j=!0)}this.selectError&&(T=this.selectError,p=this.selectResult,A=Date.now(),h="error");var ne={status:h,isLoading:h==="loading",isSuccess:h==="success",isError:h==="error",isIdle:h==="idle",data:p,dataUpdatedAt:b,error:T,errorUpdatedAt:A,failureCount:l.fetchFailureCount,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>m.dataUpdateCount||l.errorUpdateCount>m.errorUpdateCount,isFetching:E,isRefetching:E&&h!=="loading",isLoadingError:h==="error"&&l.dataUpdatedAt===0,isPlaceholderData:j,isPreviousData:P,isRefetchError:h==="error"&&l.dataUpdatedAt!==0,isStale:U(n,i),refetch:this.refetch,remove:this.remove};return ne},t.shouldNotifyListeners=function(n,i){if(!i)return!0;var u=this.options,a=u.notifyOnChangeProps,o=u.notifyOnChangePropsExclusions;if(!a&&!o||a==="tracked"&&!this.trackedProps.length)return!0;var c=a==="tracked"?this.trackedProps:a;return Object.keys(n).some(function(d){var y=d,m=n[y]!==i[y],v=c==null?void 0:c.some(function(b){return b===d}),l=o==null?void 0:o.some(function(b){return b===d});return m&&!l&&(!c||v)})},t.updateResult=function(n){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!ce(this.currentResult,i)){var u={cache:!0};(n==null?void 0:n.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(u.listeners=!0),this.notify(N({},u,n))}},t.updateQuery=function(){var n=this.client.getQueryCache().build(this.client,this.options);if(n!==this.currentQuery){var i=this.currentQuery;this.currentQuery=n,this.currentQueryInitialState=n.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),n.addObserver(this))}},t.onQueryUpdate=function(n){var i={};n.type==="success"?i.onSuccess=!0:n.type==="error"&&!oe(n.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},t.notify=function(n){var i=this;O.batch(function(){n.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):n.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),n.listeners&&i.listeners.forEach(function(u){u(i.currentResult)}),n.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},r}(le);function Re(e,r){return r.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&r.retryOnMount===!1)}function B(e,r){return Re(e,r)||e.state.dataUpdatedAt>0&&I(e,r,r.refetchOnMount)}function I(e,r,t){if(r.enabled!==!1){var s=typeof t=="function"?t(e):t;return s==="always"||s!==!1&&U(e,r)}return!1}function k(e,r,t,s){return t.enabled!==!1&&(e!==r||s.enabled===!1)&&(!t.suspense||e.state.status!=="error")&&U(e,t)}function U(e,r){return e.isStaleByTime(r.staleTime)}function ve(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var be=F.createContext(ve()),Fe=function(){return F.useContext(be)};function Se(e,r){var t=F.useRef(!1),s=F.useState(0),n=s[1],i=fe(),u=Fe(),a=i.defaultQueryObserverOptions(e);a.optimisticResults=!0,a.onError&&(a.onError=O.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=O.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=O.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(u.isReset()||(a.retryOnMount=!1));var o=F.useState(function(){return new r(i,a)}),c=o[0],d=c.getOptimisticResult(a);if(F.useEffect(function(){t.current=!0,u.clearReset();var y=c.subscribe(O.batchCalls(function(){t.current&&n(function(m){return m+1})}));return c.updateResult(),function(){t.current=!1,y()}},[u,c]),F.useEffect(function(){c.setOptions(a,{listeners:!1})},[a,c]),a.suspense&&d.isLoading)throw c.fetchOptimistic(a).then(function(y){var m=y.data;a.onSuccess==null||a.onSuccess(m),a.onSettled==null||a.onSettled(m,null)}).catch(function(y){u.clearReset(),a.onError==null||a.onError(y),a.onSettled==null||a.onSettled(void 0,y)});if(d.isError&&!u.isReset()&&!d.isFetching&&de(a.suspense,a.useErrorBoundary,[d.error,c.getCurrentQuery()]))throw d.error;return a.notifyOnChangeProps==="tracked"&&(d=c.trackResult(d,a)),d}function Oe(e,r,t){var s=he(e,r,t);return Se(s,ge)}const W="%[a-f0-9]{2}",q=new RegExp("("+W+")|([^%]+?)","gi"),K=new RegExp("("+W+")+","gi");function Q(e,r){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;r=r||1;const t=e.slice(0,r),s=e.slice(r);return Array.prototype.concat.call([],Q(t),Q(s))}function Ee(e){try{return decodeURIComponent(e)}catch{let r=e.match(q)||[];for(let t=1;t<r.length;t++)e=Q(r,t).join(""),r=e.match(q)||[];return e}}function Ie(e){const r={"%FE%FF":"��","%FF%FE":"��"};let t=K.exec(e);for(;t;){try{r[t[0]]=decodeURIComponent(t[0])}catch{const n=Ee(t[0]);n!==t[0]&&(r[t[0]]=n)}t=K.exec(e)}r["%C2"]="�";const s=Object.keys(r);for(const n of s)e=e.replace(new RegExp(n,"g"),r[n]);return e}function Qe(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return Ie(e)}}function H(e,r){if(!(typeof e=="string"&&typeof r=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e===""||r==="")return[];const t=e.indexOf(r);return t===-1?[]:[e.slice(0,t),e.slice(t+r.length)]}function Ce(e,r){const t={};if(Array.isArray(r))for(const s of r){const n=Object.getOwnPropertyDescriptor(e,s);n!=null&&n.enumerable&&Object.defineProperty(t,s,n)}else for(const s of Reflect.ownKeys(e)){const n=Object.getOwnPropertyDescriptor(e,s);if(n.enumerable){const i=e[s];r(s,i,e)&&Object.defineProperty(t,s,n)}}return t}const Ue=e=>e==null,xe=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`),C=Symbol("encodeFragmentIdentifier");function we(e){switch(e.arrayFormat){case"index":return r=>(t,s)=>{const n=t.length;return s===void 0||e.skipNull&&s===null||e.skipEmptyString&&s===""?t:s===null?[...t,[f(r,e),"[",n,"]"].join("")]:[...t,[f(r,e),"[",f(n,e),"]=",f(s,e)].join("")]};case"bracket":return r=>(t,s)=>s===void 0||e.skipNull&&s===null||e.skipEmptyString&&s===""?t:s===null?[...t,[f(r,e),"[]"].join("")]:[...t,[f(r,e),"[]=",f(s,e)].join("")];case"colon-list-separator":return r=>(t,s)=>s===void 0||e.skipNull&&s===null||e.skipEmptyString&&s===""?t:s===null?[...t,[f(r,e),":list="].join("")]:[...t,[f(r,e),":list=",f(s,e)].join("")];case"comma":case"separator":case"bracket-separator":{const r=e.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(s,n)=>n===void 0||e.skipNull&&n===null||e.skipEmptyString&&n===""?s:(n=n===null?"":n,s.length===0?[[f(t,e),r,f(n,e)].join("")]:[[s,f(n,e)].join(e.arrayFormatSeparator)])}default:return r=>(t,s)=>s===void 0||e.skipNull&&s===null||e.skipEmptyString&&s===""?t:s===null?[...t,f(r,e)]:[...t,[f(r,e),"=",f(s,e)].join("")]}}function Te(e){let r;switch(e.arrayFormat){case"index":return(t,s,n)=>{if(r=/\[(\d*)]$/.exec(t),t=t.replace(/\[\d*]$/,""),!r){n[t]=s;return}n[t]===void 0&&(n[t]={}),n[t][r[1]]=s};case"bracket":return(t,s,n)=>{if(r=/(\[])$/.exec(t),t=t.replace(/\[]$/,""),!r){n[t]=s;return}if(n[t]===void 0){n[t]=[s];return}n[t]=[...n[t],s]};case"colon-list-separator":return(t,s,n)=>{if(r=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!r){n[t]=s;return}if(n[t]===void 0){n[t]=[s];return}n[t]=[...n[t],s]};case"comma":case"separator":return(t,s,n)=>{const i=typeof s=="string"&&s.includes(e.arrayFormatSeparator),u=typeof s=="string"&&!i&&R(s,e).includes(e.arrayFormatSeparator);s=u?R(s,e):s;const a=i||u?s.split(e.arrayFormatSeparator).map(o=>R(o,e)):s===null?s:R(s,e);n[t]=a};case"bracket-separator":return(t,s,n)=>{const i=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!i){n[t]=s&&R(s,e);return}const u=s===null?[]:s.split(e.arrayFormatSeparator).map(a=>R(a,e));if(n[t]===void 0){n[t]=u;return}n[t]=[...n[t],...u]};default:return(t,s,n)=>{if(n[t]===void 0){n[t]=s;return}n[t]=[...[n[t]].flat(),s]}}}function z(e){if(typeof e!="string"||e.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function f(e,r){return r.encode?r.strict?xe(e):encodeURIComponent(e):e}function R(e,r){return r.decode?Qe(e):e}function G(e){return Array.isArray(e)?e.sort():typeof e=="object"?G(Object.keys(e)).sort((r,t)=>Number(r)-Number(t)).map(r=>e[r]):e}function J(e){const r=e.indexOf("#");return r!==-1&&(e=e.slice(0,r)),e}function Ae(e){let r="";const t=e.indexOf("#");return t!==-1&&(r=e.slice(t)),r}function V(e,r){return r.parseNumbers&&!Number.isNaN(Number(e))&&typeof e=="string"&&e.trim()!==""?e=Number(e):r.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")&&(e=e.toLowerCase()==="true"),e}function x(e){e=J(e);const r=e.indexOf("?");return r===-1?"":e.slice(r+1)}function w(e,r){r={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...r},z(r.arrayFormatSeparator);const t=Te(r),s=Object.create(null);if(typeof e!="string"||(e=e.trim().replace(/^[?#&]/,""),!e))return s;for(const n of e.split("&")){if(n==="")continue;const i=r.decode?n.replaceAll("+"," "):n;let[u,a]=H(i,"=");u===void 0&&(u=i),a=a===void 0?null:["comma","separator","bracket-separator"].includes(r.arrayFormat)?a:R(a,r),t(R(u,r),a,s)}for(const[n,i]of Object.entries(s))if(typeof i=="object"&&i!==null)for(const[u,a]of Object.entries(i))i[u]=V(a,r);else s[n]=V(i,r);return r.sort===!1?s:(r.sort===!0?Object.keys(s).sort():Object.keys(s).sort(r.sort)).reduce((n,i)=>{const u=s[i];return n[i]=u&&typeof u=="object"&&!Array.isArray(u)?G(u):u,n},Object.create(null))}function X(e,r){if(!e)return"";r={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...r},z(r.arrayFormatSeparator);const t=u=>r.skipNull&&Ue(e[u])||r.skipEmptyString&&e[u]==="",s=we(r),n={};for(const[u,a]of Object.entries(e))t(u)||(n[u]=a);const i=Object.keys(n);return r.sort!==!1&&i.sort(r.sort),i.map(u=>{const a=e[u];return a===void 0?"":a===null?f(u,r):Array.isArray(a)?a.length===0&&r.arrayFormat==="bracket-separator"?f(u,r)+"[]":a.reduce(s(u),[]).join("&"):f(u,r)+"="+f(a,r)}).filter(u=>u.length>0).join("&")}function Y(e,r){var n;r={decode:!0,...r};let[t,s]=H(e,"#");return t===void 0&&(t=e),{url:((n=t==null?void 0:t.split("?"))==null?void 0:n[0])??"",query:w(x(e),r),...r&&r.parseFragmentIdentifier&&s?{fragmentIdentifier:R(s,r)}:{}}}function Z(e,r){r={encode:!0,strict:!0,[C]:!0,...r};const t=J(e.url).split("?")[0]||"",s=x(e.url),n={...w(s,{sort:!1}),...e.query};let i=X(n,r);i&&(i=`?${i}`);let u=Ae(e.url);if(typeof e.fragmentIdentifier=="string"){const a=new URL(t);a.hash=e.fragmentIdentifier,u=r[C]?a.hash:`#${e.fragmentIdentifier}`}return`${t}${i}${u}`}function ee(e,r,t){t={parseFragmentIdentifier:!0,[C]:!1,...t};const{url:s,query:n,fragmentIdentifier:i}=Y(e,t);return Z({url:s,query:Ce(n,r),fragmentIdentifier:i},t)}function Pe(e,r,t){const s=Array.isArray(r)?n=>!r.includes(n):(n,i)=>!r(n,i);return ee(e,s,t)}const je=Object.freeze(Object.defineProperty({__proto__:null,exclude:Pe,extract:x,parse:w,parseUrl:Y,pick:ee,stringify:X,stringifyUrl:Z},Symbol.toStringTag,{value:"Module"})),$e=e=>{const r={};return Object.entries(e).forEach(([t,s])=>{s!=null&&s!==""&&(r[t]=s)}),r},Ne=(e="",r={},t="")=>{const s=$e(r),n=Object.keys(s).length>0?`?${je.stringify(s,{arrayFormat:"index"})}`:"";return`${e}${t?`/${t}`:""}${n}`},_e=async(e,r)=>{var n;const t=e.queryKey[1],s=e.queryKey[2];try{const i=await ye.get(Ne(r,t,s));if(i.success)return i;throw Error()}catch(i){throw pe.error(((n=i.data.error)==null?void 0:n.message)??"Error"),Error(i)}},Me=({key:e,params:r={},param:t="",endpoint:s,options:n={}})=>{const{filterParams:i}=me({}),{page:u,perPage:a}=i;return r.page=u||1,r.perPage=a||10,Oe([e,{...r,id:null},t],o=>_e(o,s),{...n,keepPreviousData:!!r})};export{Me as u};
